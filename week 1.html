<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/all.css">
</head>
<body>
    <div id="app">
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">回報時間</th>
                    <th scope="col">暱稱</th>
                    <th scope="col">任務名稱</th>
                    <th scope="col">狀態</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>
    </div>
    <button id="getDataBtn">取得資料</button>
    <button id="pushDataBtn">新增資料</button>


    <script>
        const data = [
            {
                date: '2021-04-28',
                name: '卡斯柏',
                event: 'Vue作品-報到',
                is_feedback: false,
            },
            {
                date: '2021-04-25',
                name: 'Shiloh',
                event: 'Vue作品-報到',
                is_feedback: true,
            },
            {
                date: '2021-04-27',
                name: '阿皓',
                event: 'Vue作品-報到',
                is_feedback: false,
            }
        ];

        const app = document.querySelector('#app .table tbody');

        //渲染
        function render (){
            let template = '';
            data.forEach((item)=>{
                template = template + `<tr>
                    <td>${item.date}</td>
                    <td>${item.name}</td>
                    <td>${item.event}</td>
                    <td>${item.is_feedback ? `<span class="text-success">已批改</span>` : `未批改`}</td>
                    </tr>`
            })
            app.innerHTML = template
        };
        render();

        const getDataBtn = document.querySelector('#getDataBtn');
        getDataBtn.addEventListener('click',getData);

        function getData(){
            console.log(data)
        };

        const pushDataBtn = document.querySelector('#pushDataBtn');
        pushDataBtn.addEventListener('click',function(){
            pushData({
                date: '2021-04-25',
                name: 'MinMin',
                event: 'Vue作品-報到',
                is_feedback: true,
            },)
        })

        function pushData(item){
            data.push(item);
            console.log(data);
            render();//要記得再渲染
        }

        
    </script>
</body>
</html>